<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코리아아이티 아카데미 > Member > Update</title>
</head>
<body>
<div th:insert="~{fragment/nav::nav_f}"></div>

<h1>코리아아이티 아카데미 회원 수정 페이지</h1>
<form autocomplete="off" method="post" action="/member/update" onsubmit="return frmCheck()">
    <ul>
        <li>
            <label>이메일</label>
            <input type="text" name="userid" tabindex="1" th:value="${view.userid}" maxlength="20" readonly>
        </li>
        <li>
            <label>비밀번호</label>
            <input type="password" name="passwd" tabindex="2" th:value="${view.passwd}" maxlength="20">
        </li>
        <li>
            <label>이름</label>
            <input type="text" name="username" tabindex="3" th:value="${view.username}" maxlength="10">
        </li>
        <li>
            <input type="submit" value="회원수정">
        </li>
    </ul>

<!--    id값도 필수(화면에 보여줄 필요는 없으니 hidden 처리)-->
    <input type="text" name="id" th:value="${view.id}">
</form>
<script>
    function frmCheck() {
        // alert("성공");
        let userid = document.querySelector('input[name=userid]');
        let passwd = document.querySelector('input[name=passwd]');
        let username = document.querySelector('input[name=username]');

        if (userid.value == "") {
            alert("이메일을 입력하세요.");
            userid.focus();
            return false;
        }

        if (passwd.value == "") {
            alert("비밀번호를 입력하세요.");
            passwd.focus();
            return false;
        }

        if (username.value == "") {
            alert("이름을 입력하세요.");
            username.focus();
            return false;
        }

        if(userid.value.length < 8) {
            alert("아이디 길이가 짧습니다.\n8자리 이상 입력하세요.");
            userid.value = "";
            userid.focus();
            return false;
        }

        if (passwd.value.length < 12) {
            alert("비밀번호 길이가 짧습니다.\n12자리 이상 입력하세요.");
            passwd.value = "";
            passwd.focus();
            return false;
        }
    }
</script>
</body>
</html>